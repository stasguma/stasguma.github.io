!function(){function e(){var e="3194102-165c070bf25d8e8aa508768e4",t=encodeURIComponent(document.body.querySelector(".form__input").value),n=new XMLHttpRequest;n.open("GET","https://pixabay.com/api/?key="+e+"&q="+t+"&image_type=photo&per_page=7&orientation=horizontal&min_height=2000&min_width=3000",!0),n.send(),n.onreadystatechange=function(){if(4==this.readyState){if(200!=this.status)return void alert("ошибка: "+(this.status?this.statusText:"запрос не удался"));var e=_.template(document.getElementById("template").innerHTML),t=document.querySelector(".grid");console.log(t);var o=JSON.parse(n.responseText),i=e({data:o});t.innerHTML=i,imagesLoaded(t,function(){new Masonry(t,{itemSelector:".grid-item",columnWidth:".grid-sizer",percentPosition:!0,gutter:20})})}}}function t(e,t,o){var i=e.scrollTop,r=t-i,a=20,u=function(t){t+=a;var c=n(t,i,r,o);e.scrollTop=c,t<o&&setTimeout(function(){u(t)},a)};u(0)}function n(e,t,n,o){return e/=o/2,e<1?n/2*e*e+t:(e-=1,-n/2*(e*(e-2)-1)+t)}document.addEventListener("DOMContentLoaded",function(){for(var e=document.querySelectorAll(".js_percentage"),t=0;t<e.length;t++)lory(e[t],{infinite:1})}),e(),document.querySelector("#dalle-form").addEventListener("submit",function(t){t.preventDefault(),e(),this.querySelector(".form__input").value=""}),document.querySelector(".header__find-btn").onclick=function(){t(document.body,2500,1250)}}();